<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Movie API Documentation</title>
</head>
<body>
    <h1>API Documentation</h1>
    <p>This is the documentation for the Movie API, which allows users to access information about movies, genres, directors, and perform user-related operations.</p>

    <h2>Endpoints</h2>

    <table border="1">
       <thead>
           <tr>
            <th>Endpoint</th>
            <th>Description</th>
            <th>URL</th>
            <th>Method</th>
            <th>Query Parameters / URL Params</th>
            <th>Request Body Format (if any)</th>
            <th>Response Format</th>
           </tr>
        </thead>
        <tbody>
            <!-- Get all movies -->
            <tr>
                <td>/movies</td>
                <td>Returns a list of all movies in the API.</td>
                <td>/movies</td>
                <td>GET</td>
                <td>N/A</td>
                <td>N/A</td>
                <td>
                    <pre>
[
    {
        "_id": "movieId1",
        "title": "Movie Title",
        "description": "A short description.",
        "genre": { "name": "Action", "description": "Fast-paced movies with physical stunts" },
        "director": { "name": "Director Name", "bio": "Short bio.", "birthYear": 1965 },
        "imageUrl": "https://path/to/image.jpg",
        "featured": false
    },
    ...
]
                    </pre>
                </td>
            </tr>
            
            <!-- Get movie by title -->
            <tr>
                <td>/movies/:title</td>
                <td>Returns detailed information about a single movie by its title.</td>
                <td>/movies/:title</td>
                <td>GET</td>
                <td>title (in URL path)</td>
                <td>N/A</td>
                <td>
                    <pre>
{
    "_id": "movieId1",
    "title": "Movie Title",
    "description": "A short description.",
    "genre": { "name": "Action", "description": "Fast-paced movies with physical stunts" },
    "director": { "name": "Director Name", "bio": "Short bio.", "birthYear": 1965 },
    "imageUrl": "https://path/to/image.jpg",
    "featured": false
}
                    </pre>
                </td>
            </tr>
            
            <!-- Get genre data by name -->
            <tr>
                <td>/genres/:name</td>
                <td>Returns information about a movie genre (e.g., Thriller, Action).</td>
                <td>/genres/:name</td>
                <td>GET</td>
                <td>name (in URL path)</td>
                <td>N/A</td>
                <td>
                    <pre>
{
    "name": "Thriller",
    "description": "A genre that involves suspense, excitement, and tension."
}
                    </pre>
                </td>
            </tr>
            
            <!-- Get director data by name -->
            <tr>
                <td>/directors/:name</td>
                <td>Returns biographical information about a director.</td>
                <td>/directors/:name</td>
                <td>GET</td>
                <td>name (in URL path)</td>
                <td>N/A</td>
                <td>
                    <pre>
{
    "name": "Director Name",
    "bio": "A brief biography of the director.",
    "birthYear": 1965,
    "deathYear": null
}
                    </pre>
                </td>
            </tr>
            
            <!-- User Registration -->
            <tr>
                <td>/users</td>
                <td>Registers a new user in the system.</td>
                <td>/users</td>
                <td>POST</td>
                <td>N/A</td>
                <td>
                    <pre>
{
    "username": "new_user",
    "email": "new_user@example.com",
    "birthday": "1990-05-20"
}
                    </pre>
                </td>
                <td>
                    <pre>
{
    "message": "User registration successful",
    "user": {
        "_id": "userId1",
        "username": "new_user",
        "email": "new_user@example.com",
        "birthday": "1990-05-20T00:00:00.000Z",
        "favoriteMovies": []
    }
}
                    </pre>
                </td>
            </tr>
            
            <!-- Update user info -->
            <tr>
                <td>/users/:username</td>
                <td>Updates the user's username, email, and password based on their username.</td>
                <td>/users/:username</td>
                <td>PUT</td>
                <td>username (in URL path)</td>
                <td>
                    <pre>
{
    "username": "updated_username",
    "email": "updated_email@example.com",
    "birthday": "1991-06-15"
}
                    </pre>
                </td>
                <td>
                    <pre>
{
    "message": "User info updated successfully",
    "user": {
        "_id": "userId1",
        "username": "updated_username",
        "email": "updated_email@example.com",
        "birthday": "1991-06-15T00:00:00.000Z",
        "favoriteMovies": []
    }
}
                    </pre>
                </td>
            </tr>
            
            <!-- Add movie to favorites -->
            <tr>
                <td>/users/:username/movies/:movieID</td>
                <td>Adds a movie to the user's favorites list.</td>
                <td>/users/:username/movies/:movieID</td>
                <td>POST</td>
                <td>movieID (in URL path)</td>
                <td>
                    <pre>
{
    "username": "user_name"
}
                    </pre>
                </td>
                <td>
                    <pre>
{
    "message": "Movie added to favorites",
    "user": {
        "_id": "userId1",
        "username": "user_name",
        "favoriteMovies": ["movieID"]
    }
}
                    </pre>
                </td>
            </tr>
            
            <!-- Remove movie from favorites -->
            <tr>
                <td>/users/:username/movies/:movieID</td>
                <td>Removes a movie from the user's favorites list.</td>
                <td>/users/:username/movies/:movieID</td>
                <td>DELETE</td>
                <td>movieID (in URL path)</td>
                <td>N/A</td>
                <td>
                    <pre>
{
    "message": "Movie removed from favorites",
    "user": {
        "_id": "userId1",
        "username": "user_name",
        "favoriteMovies": []
    }
}
                    </pre>
                </td>
            </tr>
            
            <!-- Delete user -->
            <tr>
                <td>/users/:username</td>
                <td>Deletes the user from the system.</td>
                <td>/users/:username</td>
                <td>DELETE</td>
                <td>username (in URL path)</td>
                <td>N/A</td>
                <td>
                    <pre>
{
    "message": "User successfully deleted"
}
                    </pre>
                </td>
            </tr>
        </tbody>
    </table>
</body>
</html>
